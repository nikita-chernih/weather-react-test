export default class WeatherstoreService {
    data = [{
        "id": 1503901,
        "name": "Kemerovo",
        "country": "RU",
        "coord": {
            "lon": 86.083328,
            "lat": 55.333328
        }
    },
        {
            "id": 5202009,
            "name": "Moscow",
            "country": "US",
            "coord": {
                "lon": -75.518517,
                "lat": 41.33675
            }
        },{
            "id": 3447473,
            "name": "Sobradinho",
            "country": "BR",
            "coord": {
                "lon": -39.099998,
                "lat": -12.83333
            }
        },
        {
            "id": 218253,
            "name": "Bondo",
            "country": "CD",
            "coord": {
                "lon": 23.686649,
                "lat": 3.81461
            }
        },
        {
            "id": 238566,
            "name": "Ippy",
            "country": "CF",
            "coord": {
                "lon": 21.22468,
                "lat": 6.26793
            }
        },
        {
            "id": 3874943,
            "name": "Puerto Quellon",
            "country": "CL",
            "coord": {
                "lon": -73.616669,
                "lat": -43.116669
            }
        },
        {
            "id": 3879123,
            "name": "Nacimiento",
            "country": "CL",
            "coord": {
                "lon": -72.666672,
                "lat": -37.5
            }
        },
        {
            "id": 2228005,
            "name": "Mbanga",
            "country": "CM",
            "coord": {
                "lon": 9.5671,
                "lat": 4.5016
            }
        },
        {
            "id": 2228675,
            "name": "Mamfe",
            "country": "CM",
            "coord": {
                "lon": 9.3123,
                "lat": 5.754
            }
        },
        {
            "id": 2491335,
            "name": "Ksar Chellala",
            "country": "DZ",
            "coord": {
                "lon": 2.31889,
                "lat": 35.212219
            }
        },
        {
            "id": 2492345,
            "name": "Kerkera",
            "country": "DZ",
            "coord": {
                "lon": 6.58556,
                "lat": 36.929169
            }
        },
        {
            "id": 2498752,
            "name": "El Affroun",
            "country": "DZ",
            "coord": {
                "lon": 2.62528,
                "lat": 36.4701
            }
        },
        {
            "id": 360542,
            "name": "Al Qurayn",
            "country": "EG",
            "coord": {
                "lon": 31.73514,
                "lat": 30.61618
            }
        },
        {
            "id": 361495,
            "name": "Al Ayyat",
            "country": "EG",
            "coord": {
                "lon": 31.2575,
                "lat": 29.61972
            }
        },
        {
            "id": 362882,
            "name": "Abu al Matamir",
            "country": "EG",
            "coord": {
                "lon": 30.174379,
                "lat": 30.910179
            }
        },
        {
            "id": 448500,
            "name": "Zoba Gash-Barka",
            "country": "ER",
            "coord": {
                "lon": 37.5,
                "lat": 15.25
            }
        },
        {
            "id": 330811,
            "name": "Metahara",
            "country": "ET",
            "coord": {
                "lon": 39.916672,
                "lat": 8.9
            }
        },
        {
            "id": 332746,
            "name": "Korem",
            "country": "ET",
            "coord": {
                "lon": 39.522781,
                "lat": 12.50583
            }
        },
        {
            "id": 336372,
            "name": "Giyon",
            "country": "ET",
            "coord": {
                "lon": 37.98333,
                "lat": 8.53333
            }
        },
        {
            "id": 336496,
            "name": "Gimbi",
            "country": "ET",
            "coord": {
                "lon": 35.833328,
                "lat": 9.16667
            }
        },
        {
            "id": 336931,
            "name": "Genet",
            "country": "ET",
            "coord": {
                "lon": 38.5,
                "lat": 9.06667
            }
        },
        {
            "id": 337712,
            "name": "Finote Selam",
            "country": "ET",
            "coord": {
                "lon": 37.26667,
                "lat": 10.7
            }
        },
        {
            "id": 338726,
            "name": "Dodola",
            "country": "ET",
            "coord": {
                "lon": 39.183331,
                "lat": 6.98333
            }
        },
        {
            "id": 341297,
            "name": "Butajira",
            "country": "ET",
            "coord": {
                "lon": 38.366669,
                "lat": 8.11667
            }
        },
        {
            "id": 343409,
            "name": "Asaita",
            "country": "ET",
            "coord": {
                "lon": 41.439442,
                "lat": 11.56361
            }
        },
        {
            "id": 343413,
            "name": "Asasa",
            "country": "ET",
            "coord": {
                "lon": 39.200001,
                "lat": 7.1
            }
        },
        {
            "id": 343593,
            "name": "Areka",
            "country": "ET",
            "coord": {
                "lon": 37.700001,
                "lat": 7.06667
            }
        },
        {
            "id": 6434715,
            "name": "Saint-Jean-de-la-Ruelle",
            "country": "FR",
            "coord": {
                "lon": 1.86667,
                "lat": 47.916672
            }
        },
        {
            "id": 6434515,
            "name": "Saint-Herblain",
            "country": "FR",
            "coord": {
                "lon": -1.65,
                "lat": 47.216671
            }
        },
        {
            "id": 6614010,
            "name": "Saint-Étienne",
            "country": "FR",
            "coord": {
                "lon": 4.4,
                "lat": 45.433331
            }
        },
        {
            "id": 6433106,
            "name": "Saint-Cyr-sur-Loire",
            "country": "FR",
            "coord": {
                "lon": 0.66667,
                "lat": 47.400002
            }
        },
        {
            "id": 6455259,
            "name": "Paris",
            "country": "FR",
            "coord": {
                "lon": 2.35236,
                "lat": 48.856461
            }
        },
        {
            "id": 3031132,
            "name": "Arrondissement de Boulogne-sur-Mer",
            "country": "FR",
            "coord": {
                "lon": 1.83333,
                "lat": 50.75
            }
        },
        {
            "id": 6439779,
            "name": "Outreau",
            "country": "FR",
            "coord": {
                "lon": 1.58333,
                "lat": 50.700001
            }
        },
        {
            "id": 2989170,
            "name": "Orvault",
            "country": "FR",
            "coord": {
                "lon": -1.6219,
                "lat": 47.27095
            }
        },
        {
            "id": 2994149,
            "name": "Arrondissement de Metz-Ville",
            "country": "FR",
            "coord": {
                "lon": 6.16667,
                "lat": 49.083328
            }
        },
        {
            "id": 6455403,
            "name": "Maurepas",
            "country": "FR",
            "coord": {
                "lon": 1.91667,
                "lat": 48.76667
            }
        },
        {
            "id": 6453527,
            "name": "Laon",
            "country": "FR",
            "coord": {
                "lon": 3.61667,
                "lat": 49.566669
            }
        },
        {
            "id": 6457117,
            "name": "La Crau",
            "country": "FR",
            "coord": {
                "lon": 6.06667,
                "lat": 43.150002
            }
        },
        {
            "id": 6457183,
            "name": "La Courneuve",
            "country": "FR",
            "coord": {
                "lon": 2.3966,
                "lat": 48.931198
            }
        },
        {
            "id": 6613140,
            "name": "Gentilly",
            "country": "FR",
            "coord": {
                "lon": 2.33333,
                "lat": 48.816669
            }
        },
        {
            "id": 6451968,
            "name": "Garches",
            "country": "FR",
            "coord": {
                "lon": 2.18333,
                "lat": 48.849998
            }
        },
        {
            "id": 6454404,
            "name": "Croix",
            "country": "FR",
            "coord": {
                "lon": 3.15,
                "lat": 50.666672
            }
        },
        {
            "id": 6449087,
            "name": "Couëron",
            "country": "FR",
            "coord": {
                "lon": -1.73333,
                "lat": 47.216671
            }
        },
        {
            "id": 1213530,
            "name": "Tanjungtiram",
            "country": "ID",
            "coord": {
                "lon": 98.369904,
                "lat": 4.0613
            }
        },
        {
            "id": 1214189,
            "name": "Percut",
            "country": "ID",
            "coord": {
                "lon": 98.863998,
                "lat": 3.6253
            }
        },
        {
            "id": 1214191,
            "name": "Perbaungan",
            "country": "ID",
            "coord": {
                "lon": 98.956001,
                "lat": 3.5679
            }
        },
        {
            "id": 1214800,
            "name": "Labuhan Deli",
            "country": "ID",
            "coord": {
                "lon": 98.673798,
                "lat": 3.7278
            }
        },
        {
            "id": 1215199,
            "name": "Deli Tua",
            "country": "ID",
            "coord": {
                "lon": 98.683899,
                "lat": 3.5078
            }
        },
        {
            "id": 1215350,
            "name": "Bireun",
            "country": "ID",
            "coord": {
                "lon": 96.700897,
                "lat": 5.203
            }
        },
        {
            "id": 1621520,
            "name": "Wiradesa",
            "country": "ID",
            "coord": {
                "lon": 109.619003,
                "lat": -6.8922
            }
        },
        {
            "id": 1621613,
            "name": "Weru",
            "country": "ID",
            "coord": {
                "lon": 108.5037,
                "lat": -6.711
            }
        },
        {
            "id": 1621659,
            "name": "Welahan",
            "country": "ID",
            "coord": {
                "lon": 110.716667,
                "lat": -6.8
            }
        },
        {
            "id": 1622090,
            "name": "Wangon",
            "country": "ID",
            "coord": {
                "lon": 109.053886,
                "lat": -7.51611
            }
        },
        {
            "id": 1622636,
            "name": "Ungaran",
            "country": "ID",
            "coord": {
                "lon": 110.404999,
                "lat": -7.13972
            }
        },
        {
            "id": 1623080,
            "name": "Tulungagung",
            "country": "ID",
            "coord": {
                "lon": 111.902496,
                "lat": -8.0657
            }
        },
        {
            "id": 1624545,
            "name": "Tayu",
            "country": "ID",
            "coord": {
                "lon": 111.051804,
                "lat": -6.5397
            }
        },
        {
            "id": 1630088,
            "name": "Randudongkal",
            "country": "ID",
            "coord": {
                "lon": 109.324303,
                "lat": -7.0981
            }
        }];

    _apiKey = '739af9a8de0fc0ed2cf71902e4d461c0';

    async getResource(cityId, type) {
        const res = await fetch(`http://api.openweathermap.org/data/2.5/${type}?id=${cityId}&appid=${this._apiKey}`);

        if (!res.ok) {
            throw new Error(`Could not fetch  and res status ${res.status}`)
        }
        return await res.json();
    }

    getTodayWeather(cityId) {
        return this.getResource(cityId,'weather');
    }

    getFiveDayWeather(cityId) {
        return this.getResource(cityId,'forecast');
    }

    getCities() {
        return new Promise((resolve) => {
            setTimeout(() => {
                resolve(this.data)
                //Словно задержка данных
            }, 0);
        });
    }
}